#include <Arduino.h>
#include <ArduinoRS485.h>

int analogPin = A3;

byte key1[11] = {0x01, 0x06, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x97, 0x8A};
byte key2[11] = {0x01, 0x06, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xA4, 0x8A};
byte key3[11] = {0x01, 0x06, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC2, 0x8A};
byte key4[11] = {0x01, 0x06, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0E, 0x8A};
byte key5[11] = {0x01, 0x06, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x96, 0x8B};
byte key6[11] = {0x01, 0x06, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x46, 0x89};
byte key7[11] = {0x01, 0x06, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x66, 0x8B};
byte key8[11] = {0x01, 0x06, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x76, 0x8A};
byte key9[11] = {0x01, 0x06, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0xFE, 0x8A};
byte key10[11] = {0x01, 0x06, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0xBA, 0x8A};

void setup() {
  Serial.begin(9600);
  RS485.begin(115200);
}

void loop() {
  int sensor_val = analogRead(analogPin);
  Serial.println(sensor_val);
  delay(100);
  RS485.beginTransmission();
  for (int i = 0; i < 11; i++) {
    RS485.write(key1[i]);
  }

}
